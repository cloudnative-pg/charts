{
    "$schema": "http://json-schema.org/schema#",
    "type": "object",
    "properties": {
        "backups": {
            "type": "object",
            "properties": {
                "existingSecret": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string"
                        }
                    }
                },
                "objectStorage": {
                    "type": "object",
                    "properties": {
                        "data": {
                            "type": "object",
                            "properties": {
                                "compression": {
                                    "type": "string"
                                },
                                "encryption": {
                                    "type": "string"
                                },
                                "jobs": {
                                    "type": "integer"
                                }
                            }
                        },
                        "destinationPath": {
                            "type": "string"
                        },
                        "endpointCA": {
                            "type": "object",
                            "properties": {
                                "create": {
                                    "type": "boolean"
                                },
                                "key": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "value": {
                                    "type": "string"
                                }
                            }
                        },
                        "endpointURL": {
                            "type": "string"
                        },
                        "provider": {
                            "type": "string"
                        },
                        "providerSettings": {
                            "type": "object",
                            "properties": {
                                "azure": {
                                    "type": "object",
                                    "properties": {
                                        "connectionString": {
                                            "type": "string"
                                        },
                                        "containerName": {
                                            "type": "string"
                                        },
                                        "inheritFromAzureAD": {
                                            "type": "boolean"
                                        },
                                        "path": {
                                            "type": "string"
                                        },
                                        "serviceName": {
                                            "type": "string"
                                        },
                                        "storageAccount": {
                                            "type": "string"
                                        },
                                        "storageKey": {
                                            "type": "string"
                                        },
                                        "storageSasToken": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "google": {
                                    "type": "object",
                                    "properties": {
                                        "applicationCredentials": {
                                            "type": "string"
                                        },
                                        "bucket": {
                                            "type": "string"
                                        },
                                        "gkeEnvironment": {
                                            "type": "boolean"
                                        },
                                        "path": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "s3": {
                                    "type": "object",
                                    "properties": {
                                        "accessKey": {
                                            "type": "string"
                                        },
                                        "bucket": {
                                            "type": "string"
                                        },
                                        "path": {
                                            "type": "string"
                                        },
                                        "region": {
                                            "type": "string"
                                        },
                                        "secretKey": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        },
                        "wal": {
                            "type": "object",
                            "properties": {
                                "compression": {
                                    "type": "string"
                                },
                                "encryption": {
                                    "type": "string"
                                },
                                "maxParallel": {
                                    "type": "integer"
                                }
                            }
                        }
                    }
                },
                "retentionPolicy": {
                    "type": "string"
                },
                "scheduledBackups": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "backupOwnerReference": {
                                "type": "string"
                            },
                            "method": {
                                "type": "string"
                            },
                            "name": {
                                "type": "string"
                            },
                            "schedule": {
                                "type": "string"
                            }
                        }
                    }
                },
                "target": {
                    "type": "string"
                },
                "volumeSnapshot": {
                    "type": "object",
                    "properties": {
                        "className": {
                            "type": "string"
                        },
                        "online": {
                            "type": "boolean"
                        },
                        "onlineConfiguration": {
                            "type": "object",
                            "properties": {
                                "immediateCheckpoint": {
                                    "type": "boolean"
                                },
                                "waitForArchive": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "snapshotOwnerReference": {
                            "type": "string"
                        },
                        "walClassName": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "cluster": {
            "type": "object",
            "properties": {
                "additionalLabels": {
                    "type": "object"
                },
                "affinity": {
                    "type": "object",
                    "properties": {
                        "topologyKey": {
                            "type": "string"
                        }
                    }
                },
                "annotations": {
                    "type": "object"
                },
                "certificates": {
                    "type": "object"
                },
                "enableSuperuserAccess": {
                    "type": "boolean"
                },
                "imageName": {
                    "type": "string"
                },
                "imagePullPolicy": {
                    "type": "string"
                },
                "imagePullSecrets": {
                    "type": "array"
                },
                "initdb": {
                    "type": "object"
                },
                "instances": {
                    "type": "integer"
                },
                "logLevel": {
                    "type": "string"
                },
                "monitoring": {
                    "type": "object",
                    "properties": {
                        "customQueries": {
                            "type": "array"
                        },
                        "customQueriesSecret": {
                            "type": "array"
                        },
                        "disableDefaultQueries": {
                            "type": "boolean"
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "podMonitor": {
                            "type": "object",
                            "properties": {
                                "enabled": {
                                    "type": "boolean"
                                },
                                "metricRelabelings": {
                                    "type": "array"
                                },
                                "relabelings": {
                                    "type": "array"
                                }
                            }
                        },
                        "prometheusRule": {
                            "type": "object",
                            "properties": {
                                "enabled": {
                                    "type": "boolean"
                                },
                                "excludeRules": {
                                    "type": "array"
                                }
                            }
                        }
                    }
                },
                "postgresGID": {
                    "type": "integer"
                },
                "postgresUID": {
                    "type": "integer"
                },
                "postgresql": {
                    "type": "object",
                    "properties": {
                        "parameters": {
                            "type": "object"
                        },
                        "pg_hba": {
                            "type": "array"
                        }
                    }
                },
                "primaryUpdateMethod": {
                    "type": "string"
                },
                "primaryUpdateStrategy": {
                    "type": "string"
                },
                "priorityClassName": {
                    "type": "string"
                },
                "replicationSlots": {
                    "type": "object",
                    "properties": {
                        "highAvailability": {
                            "type": "object",
                            "properties": {
                                "enabled": {
                                    "type": "boolean"
                                },
                                "slotPrefix": {
                                    "type": "string"
                                }
                            }
                        },
                        "updateInterval": {
                            "type": "integer"
                        }
                    }
                },
                "resources": {
                    "type": "object"
                },
                "roles": {
                    "type": "array"
                },
                "storage": {
                    "type": "object",
                    "properties": {
                        "size": {
                            "type": "string"
                        },
                        "storageClass": {
                            "type": "string"
                        }
                    }
                },
                "superuserSecret": {
                    "type": "string"
                },
                "walStorage": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "size": {
                            "type": "string"
                        },
                        "storageClass": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "fullnameOverride": {
            "type": "string"
        },
        "import": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string"
                },
                "typeSettings": {
                    "type": "object",
                    "properties": {
                        "microservice": {
                            "type": "object",
                            "properties": {
                                "database": {
                                    "type": "string"
                                },
                                "owner": {
                                    "type": "string"
                                },
                                "postImportApplicationSQL": {
                                    "type": "array"
                                }
                            }
                        },
                        "monolith": {
                            "type": "object",
                            "properties": {
                                "databases": {
                                    "type": "array"
                                },
                                "roles": {
                                    "type": "array"
                                }
                            }
                        }
                    }
                }
            }
        },
        "mode": {
            "type": "string"
        },
        "nameOverride": {
            "type": "string"
        },
        "poolers": {
            "type": "array"
        },
        "recovery": {
            "type": "object",
            "properties": {
                "existingSecret": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string"
                        }
                    }
                },
                "method": {
                    "type": "string"
                },
                "methodSettings": {
                    "type": "object",
                    "properties": {
                        "backup": {
                            "type": "object",
                            "properties": {
                                "name": {
                                    "type": "string"
                                }
                            }
                        },
                        "objectStorage": {
                            "type": "object",
                            "properties": {
                                "clusterName": {
                                    "type": "string"
                                },
                                "destinationPath": {
                                    "type": "string"
                                },
                                "endpointCA": {
                                    "type": "object",
                                    "properties": {
                                        "create": {
                                            "type": "boolean"
                                        },
                                        "key": {
                                            "type": "string"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "value": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "endpointURL": {
                                    "type": "string"
                                },
                                "provider": {
                                    "type": "string"
                                },
                                "providerSettings": {
                                    "type": "object",
                                    "properties": {
                                        "azure": {
                                            "type": "object",
                                            "properties": {
                                                "connectionString": {
                                                    "type": "string"
                                                },
                                                "containerName": {
                                                    "type": "string"
                                                },
                                                "inheritFromAzureAD": {
                                                    "type": "boolean"
                                                },
                                                "path": {
                                                    "type": "string"
                                                },
                                                "serviceName": {
                                                    "type": "string"
                                                },
                                                "storageAccount": {
                                                    "type": "string"
                                                },
                                                "storageKey": {
                                                    "type": "string"
                                                },
                                                "storageSasToken": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "google": {
                                            "type": "object",
                                            "properties": {
                                                "applicationCredentials": {
                                                    "type": "string"
                                                },
                                                "bucket": {
                                                    "type": "string"
                                                },
                                                "gkeEnvironment": {
                                                    "type": "boolean"
                                                },
                                                "path": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "s3": {
                                            "type": "object",
                                            "properties": {
                                                "accessKey": {
                                                    "type": "string"
                                                },
                                                "bucket": {
                                                    "type": "string"
                                                },
                                                "path": {
                                                    "type": "string"
                                                },
                                                "region": {
                                                    "type": "string"
                                                },
                                                "secretKey": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "pgBasebackup": {
                            "type": "object",
                            "properties": {
                                "auth": {
                                    "type": "string"
                                },
                                "authDetails": {
                                    "type": "object",
                                    "properties": {
                                        "password": {
                                            "type": "string"
                                        },
                                        "tls": {
                                            "type": "object",
                                            "properties": {
                                                "ca": {
                                                    "type": "string"
                                                },
                                                "crt": {
                                                    "type": "string"
                                                },
                                                "key": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                },
                                "connectionParameters": {
                                    "type": "object",
                                    "properties": {
                                        "database": {
                                            "type": "string"
                                        },
                                        "host": {
                                            "type": "string"
                                        },
                                        "port": {
                                            "type": "integer"
                                        },
                                        "sslMode": {
                                            "type": "string"
                                        },
                                        "user": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "database": {
                                    "type": "string"
                                },
                                "owner": {
                                    "type": "string"
                                },
                                "ownerSecret": {
                                    "type": "string"
                                }
                            }
                        },
                        "volumeSnapshot": {
                            "type": "object",
                            "properties": {
                                "storageSnapshotName": {
                                    "type": "string"
                                },
                                "walSnapshotName": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "pitrTarget": {
                    "type": "object",
                    "properties": {
                        "time": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "replica": {
            "type": "object",
            "properties": {
                "topology": {
                    "type": "string"
                },
                "topologySettings": {
                    "type": "object",
                    "properties": {
                        "distributed": {
                            "type": "object",
                            "properties": {
                                "primary": {
                                    "type": "boolean"
                                },
                                "promotionToken": {
                                    "type": "string"
                                }
                            }
                        },
                        "standalone": {
                            "type": "object",
                            "properties": {
                                "minApplyDelay": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "type": {
            "type": "string"
        }
    }
}
